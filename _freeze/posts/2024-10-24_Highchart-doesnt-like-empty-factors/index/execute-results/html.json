{
  "hash": "b187fda38071853be5cbd305aa166033",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"{highcharts} doesn't like empty factors (and the .by argument is quite nice, actually)\"\ndate: '2024-10-24'\nexecute:\n  freeze: true\n  message: false\n  warning: false\ncode-fold: false\nengine: knitr\nfilters:\n  - line-highlight\n---\n\n\n:::{layout-ncol=2}\n\n:::{.left}\n\nHeard of `{plotly}` for interactive charts? I massively prefer `{highcharts}` as it's more accessible, mobile friendly and **simply more beautiful**. Both of these packages are *htmlwidgets* and there are [so many packages for making interactive charts, maps and more](https://www.htmlwidgets.org/showcase_highcharts.html).\n\nBut. We're here to discuss how `{highcharter}` doesn't like empty factor levels - with my own YouTubesque thumbnail.\n\n:::\n\n:::{.right}\n\n![](highchart-doesnt-like-empty-factors_youtube-thumbnail.png)\n\n:::\n\n:::\n\nLet's demonstrate how `{ggplot2}` handles ordering of factor levels that are empty:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\ngss_party_by_marital <- gss_cat %>% \n  summarise(n_in_subcategory = n(), .by = c(partyid, marital)) %>% \n  mutate(n_in_category = sum(n_in_subcategory), .by = partyid) %>% \n  mutate(partyid = fct_reorder(partyid, n_in_category))\n\ngss_party_by_marital %>% \n  ggplot(aes(x = n_in_subcategory,\n             y = partyid,\n             fill = marital)) +\n  geom_col() +\n  scale_fill_viridis_d(option = \"A\", direction = 1) +\n  guides(fill = guide_legend(reverse = TRUE))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nThat's a nicely ordered stacked bar chart! We've got the bars going from big to small, even though the final two categories don't contain all of the marital states.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngss_party_by_marital %>% \n  filter(partyid %in% c(\"No answer\", \"Don't know\")) %>% \n  knitr::kable()\n```\n\n::: {.cell-output-display}\n\n\n|partyid    |marital       | n_in_subcategory| n_in_category|\n|:----------|:-------------|----------------:|-------------:|\n|No answer  |Married       |               60|           154|\n|No answer  |Divorced      |               29|           154|\n|No answer  |Never married |               35|           154|\n|No answer  |Widowed       |               16|           154|\n|No answer  |Separated     |                9|           154|\n|No answer  |No answer     |                5|           154|\n|Don't know |Married       |                1|             1|\n\n\n:::\n:::\n\n\nLet's throw this into `{highcharter}` and we see just a complete **mess**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(highcharter)\n\ngss_party_by_marital %>% \n  hchart(\n    type = \"bar\",\n    hcaes(\n      y = n_in_subcategory,\n      x = partyid,\n      group = marital\n    )\n  ) %>% \n  hc_plotOptions(series = list(stacking = \"normal\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-2103f1720d96096aa7c3\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2103f1720d96096aa7c3\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":null},\"yAxis\":{\"title\":{\"text\":\"n_in_subcategory\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true,\"stacking\":\"normal\"},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"No answer\",\"data\":[{\"partyid\":\"Ind,near dem\",\"marital\":\"No answer\",\"n_in_subcategory\":2,\"n_in_category\":2499,\"y\":2,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"No answer\",\"n_in_subcategory\":2,\"n_in_category\":2314,\"y\":2,\"name\":\"Strong republican\"},{\"partyid\":\"Strong democrat\",\"marital\":\"No answer\",\"n_in_subcategory\":2,\"n_in_category\":3490,\"y\":2,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str democrat\",\"marital\":\"No answer\",\"n_in_subcategory\":1,\"n_in_category\":3690,\"y\":1,\"name\":\"Not str democrat\"},{\"partyid\":\"No answer\",\"marital\":\"No answer\",\"n_in_subcategory\":5,\"n_in_category\":154,\"y\":5,\"name\":\"No answer\"},{\"partyid\":\"Independent\",\"marital\":\"No answer\",\"n_in_subcategory\":4,\"n_in_category\":4119,\"y\":4,\"name\":\"Independent\"},{\"partyid\":\"Not str republican\",\"marital\":\"No answer\",\"n_in_subcategory\":1,\"n_in_category\":3032,\"y\":1,\"name\":\"Not str republican\"}],\"type\":\"bar\"},{\"name\":\"Never married\",\"data\":[{\"partyid\":\"Ind,near rep\",\"marital\":\"Never married\",\"n_in_subcategory\":413,\"n_in_category\":1791,\"y\":413,\"name\":\"Ind,near rep\"},{\"partyid\":\"Not str republican\",\"marital\":\"Never married\",\"n_in_subcategory\":597,\"n_in_category\":3032,\"y\":597,\"name\":\"Not str republican\"},{\"partyid\":\"Independent\",\"marital\":\"Never married\",\"n_in_subcategory\":1181,\"n_in_category\":4119,\"y\":1181,\"name\":\"Independent\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Never married\",\"n_in_subcategory\":1035,\"n_in_category\":3690,\"y\":1035,\"name\":\"Not str democrat\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Never married\",\"n_in_subcategory\":812,\"n_in_category\":2499,\"y\":812,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"Never married\",\"n_in_subcategory\":286,\"n_in_category\":2314,\"y\":286,\"name\":\"Strong republican\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Never married\",\"n_in_subcategory\":940,\"n_in_category\":3490,\"y\":940,\"name\":\"Strong democrat\"},{\"partyid\":\"Other party\",\"marital\":\"Never married\",\"n_in_subcategory\":117,\"n_in_category\":393,\"y\":117,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Never married\",\"n_in_subcategory\":35,\"n_in_category\":154,\"y\":35,\"name\":\"No answer\"}],\"type\":\"bar\"},{\"name\":\"Separated\",\"data\":[{\"partyid\":\"Strong democrat\",\"marital\":\"Separated\",\"n_in_subcategory\":132,\"n_in_category\":3490,\"y\":132,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Separated\",\"n_in_subcategory\":126,\"n_in_category\":3690,\"y\":126,\"name\":\"Not str democrat\"},{\"partyid\":\"Independent\",\"marital\":\"Separated\",\"n_in_subcategory\":198,\"n_in_category\":4119,\"y\":198,\"name\":\"Independent\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Separated\",\"n_in_subcategory\":96,\"n_in_category\":2499,\"y\":96,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"Separated\",\"n_in_subcategory\":56,\"n_in_category\":2314,\"y\":56,\"name\":\"Strong republican\"},{\"partyid\":\"Not str republican\",\"marital\":\"Separated\",\"n_in_subcategory\":60,\"n_in_category\":3032,\"y\":60,\"name\":\"Not str republican\"},{\"partyid\":\"Other party\",\"marital\":\"Separated\",\"n_in_subcategory\":11,\"n_in_category\":393,\"y\":11,\"name\":\"Other party\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Separated\",\"n_in_subcategory\":55,\"n_in_category\":1791,\"y\":55,\"name\":\"Ind,near rep\"},{\"partyid\":\"No answer\",\"marital\":\"Separated\",\"n_in_subcategory\":9,\"n_in_category\":154,\"y\":9,\"name\":\"No answer\"}],\"type\":\"bar\"},{\"name\":\"Divorced\",\"data\":[{\"partyid\":\"Not str republican\",\"marital\":\"Divorced\",\"n_in_subcategory\":422,\"n_in_category\":3032,\"y\":422,\"name\":\"Not str republican\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Divorced\",\"n_in_subcategory\":601,\"n_in_category\":3690,\"y\":601,\"name\":\"Not str democrat\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Divorced\",\"n_in_subcategory\":399,\"n_in_category\":2499,\"y\":399,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Divorced\",\"n_in_subcategory\":614,\"n_in_category\":3490,\"y\":614,\"name\":\"Strong democrat\"},{\"partyid\":\"Independent\",\"marital\":\"Divorced\",\"n_in_subcategory\":661,\"n_in_category\":4119,\"y\":661,\"name\":\"Independent\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Divorced\",\"n_in_subcategory\":283,\"n_in_category\":1791,\"y\":283,\"name\":\"Ind,near rep\"},{\"partyid\":\"Strong republican\",\"marital\":\"Divorced\",\"n_in_subcategory\":306,\"n_in_category\":2314,\"y\":306,\"name\":\"Strong republican\"},{\"partyid\":\"Other party\",\"marital\":\"Divorced\",\"n_in_subcategory\":68,\"n_in_category\":393,\"y\":68,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Divorced\",\"n_in_subcategory\":29,\"n_in_category\":154,\"y\":29,\"name\":\"No answer\"}],\"type\":\"bar\"},{\"name\":\"Widowed\",\"data\":[{\"partyid\":\"Independent\",\"marital\":\"Widowed\",\"n_in_subcategory\":270,\"n_in_category\":4119,\"y\":270,\"name\":\"Independent\"},{\"partyid\":\"Strong republican\",\"marital\":\"Widowed\",\"n_in_subcategory\":210,\"n_in_category\":2314,\"y\":210,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Widowed\",\"n_in_subcategory\":118,\"n_in_category\":1791,\"y\":118,\"name\":\"Ind,near rep\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Widowed\",\"n_in_subcategory\":354,\"n_in_category\":3690,\"y\":354,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Widowed\",\"n_in_subcategory\":425,\"n_in_category\":3490,\"y\":425,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str republican\",\"marital\":\"Widowed\",\"n_in_subcategory\":231,\"n_in_category\":3032,\"y\":231,\"name\":\"Not str republican\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Widowed\",\"n_in_subcategory\":157,\"n_in_category\":2499,\"y\":157,\"name\":\"Ind,near dem\"},{\"partyid\":\"Other party\",\"marital\":\"Widowed\",\"n_in_subcategory\":26,\"n_in_category\":393,\"y\":26,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Widowed\",\"n_in_subcategory\":16,\"n_in_category\":154,\"y\":16,\"name\":\"No answer\"}],\"type\":\"bar\"},{\"name\":\"Married\",\"data\":[{\"partyid\":\"Strong democrat\",\"marital\":\"Married\",\"n_in_subcategory\":1377,\"n_in_category\":3490,\"y\":1377,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Married\",\"n_in_subcategory\":1573,\"n_in_category\":3690,\"y\":1573,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong republican\",\"marital\":\"Married\",\"n_in_subcategory\":1454,\"n_in_category\":2314,\"y\":1454,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Married\",\"n_in_subcategory\":922,\"n_in_category\":1791,\"y\":922,\"name\":\"Ind,near rep\"},{\"partyid\":\"Independent\",\"marital\":\"Married\",\"n_in_subcategory\":1805,\"n_in_category\":4119,\"y\":1805,\"name\":\"Independent\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Married\",\"n_in_subcategory\":1033,\"n_in_category\":2499,\"y\":1033,\"name\":\"Ind,near dem\"},{\"partyid\":\"Not str republican\",\"marital\":\"Married\",\"n_in_subcategory\":1721,\"n_in_category\":3032,\"y\":1721,\"name\":\"Not str republican\"},{\"partyid\":\"Other party\",\"marital\":\"Married\",\"n_in_subcategory\":171,\"n_in_category\":393,\"y\":171,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Married\",\"n_in_subcategory\":60,\"n_in_category\":154,\"y\":60,\"name\":\"No answer\"},{\"partyid\":\"Don't know\",\"marital\":\"Married\",\"n_in_subcategory\":1,\"n_in_category\":1,\"y\":1,\"name\":\"Don't know\"}],\"type\":\"bar\"}],\"xAxis\":{\"type\":\"category\",\"title\":{\"text\":\"partyid\"},\"categories\":null}},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## Using complete() and talking about that .by argument\n\nYou might have missed it in my code above, but I used groups without `group_by()` or `ungroup()`! Back in late 2022 there was a [suggestion that the grouping functions gain a `.by` argument](https://github.com/tidyverse/dplyr/pull/6528) which was added as an experimental feature. \n\nI initially I really didn't like it. But, look how neat this is. I've highlighted the `summarise()` and `mutate()` lines that make use of the `.by` argument, it saves having to call `group_by()` and `ungroup()`... and just to be clear `complete()` is filling in empty factor levels with an explicit value of 0.\n\n\n::: {.cell source-line-numbers='2,6'}\n\n```{.r .cell-code}\ngss_completed_data <- gss_cat %>% \n  summarise(n_in_subcategory = n(), .by = c(partyid, marital)) %>% \n  complete(partyid,\n           marital,\n           fill = list(n_in_subcategory = 0)) %>% \n  mutate(n_in_category = sum(n_in_subcategory), .by = partyid) %>% \n  mutate(partyid = fct_reorder(partyid, n_in_category)) %>% \n  arrange(desc(n_in_category))\n\ngss_completed_data %>% \n  filter(partyid %in% c(\"No answer\", \"Don't know\")) %>% \n  knitr::kable()\n```\n\n::: {.cell-output-display}\n\n\n|partyid    |marital       | n_in_subcategory| n_in_category|\n|:----------|:-------------|----------------:|-------------:|\n|No answer  |No answer     |                5|           154|\n|No answer  |Never married |               35|           154|\n|No answer  |Separated     |                9|           154|\n|No answer  |Divorced      |               29|           154|\n|No answer  |Widowed       |               16|           154|\n|No answer  |Married       |               60|           154|\n|Don't know |No answer     |                0|             1|\n|Don't know |Never married |                0|             1|\n|Don't know |Separated     |                0|             1|\n|Don't know |Divorced      |                0|             1|\n|Don't know |Widowed       |                0|             1|\n|Don't know |Married       |                1|             1|\n\n\n:::\n:::\n\n\nNow those empty factor levels are filled we can throw it back into `{highcharter}`. Make sure to interact with the chart, and click on the legend items to see just how beautiful `{highcharter}` is.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngss_completed_data %>% \n  hchart(\n    type = \"bar\",\n    hcaes(\n      y = n_in_subcategory,\n      x = partyid,\n      group = marital\n    )\n  ) %>% \n  hc_plotOptions(series = list(stacking = \"normal\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-6dffecb350c8722b2da4\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6dffecb350c8722b2da4\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":null},\"yAxis\":{\"title\":{\"text\":\"n_in_subcategory\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true,\"stacking\":\"normal\"},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"No answer\",\"data\":[{\"partyid\":\"Independent\",\"marital\":\"No answer\",\"n_in_subcategory\":4,\"n_in_category\":4119,\"y\":4,\"name\":\"Independent\"},{\"partyid\":\"Not str democrat\",\"marital\":\"No answer\",\"n_in_subcategory\":1,\"n_in_category\":3690,\"y\":1,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong democrat\",\"marital\":\"No answer\",\"n_in_subcategory\":2,\"n_in_category\":3490,\"y\":2,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str republican\",\"marital\":\"No answer\",\"n_in_subcategory\":1,\"n_in_category\":3032,\"y\":1,\"name\":\"Not str republican\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"No answer\",\"n_in_subcategory\":2,\"n_in_category\":2499,\"y\":2,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"No answer\",\"n_in_subcategory\":2,\"n_in_category\":2314,\"y\":2,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"No answer\",\"n_in_subcategory\":0,\"n_in_category\":1791,\"y\":0,\"name\":\"Ind,near rep\"},{\"partyid\":\"Other party\",\"marital\":\"No answer\",\"n_in_subcategory\":0,\"n_in_category\":393,\"y\":0,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"No answer\",\"n_in_subcategory\":5,\"n_in_category\":154,\"y\":5,\"name\":\"No answer\"},{\"partyid\":\"Don't know\",\"marital\":\"No answer\",\"n_in_subcategory\":0,\"n_in_category\":1,\"y\":0,\"name\":\"Don't know\"}],\"type\":\"bar\"},{\"name\":\"Never married\",\"data\":[{\"partyid\":\"Independent\",\"marital\":\"Never married\",\"n_in_subcategory\":1181,\"n_in_category\":4119,\"y\":1181,\"name\":\"Independent\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Never married\",\"n_in_subcategory\":1035,\"n_in_category\":3690,\"y\":1035,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Never married\",\"n_in_subcategory\":940,\"n_in_category\":3490,\"y\":940,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str republican\",\"marital\":\"Never married\",\"n_in_subcategory\":597,\"n_in_category\":3032,\"y\":597,\"name\":\"Not str republican\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Never married\",\"n_in_subcategory\":812,\"n_in_category\":2499,\"y\":812,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"Never married\",\"n_in_subcategory\":286,\"n_in_category\":2314,\"y\":286,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Never married\",\"n_in_subcategory\":413,\"n_in_category\":1791,\"y\":413,\"name\":\"Ind,near rep\"},{\"partyid\":\"Other party\",\"marital\":\"Never married\",\"n_in_subcategory\":117,\"n_in_category\":393,\"y\":117,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Never married\",\"n_in_subcategory\":35,\"n_in_category\":154,\"y\":35,\"name\":\"No answer\"},{\"partyid\":\"Don't know\",\"marital\":\"Never married\",\"n_in_subcategory\":0,\"n_in_category\":1,\"y\":0,\"name\":\"Don't know\"}],\"type\":\"bar\"},{\"name\":\"Separated\",\"data\":[{\"partyid\":\"Independent\",\"marital\":\"Separated\",\"n_in_subcategory\":198,\"n_in_category\":4119,\"y\":198,\"name\":\"Independent\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Separated\",\"n_in_subcategory\":126,\"n_in_category\":3690,\"y\":126,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Separated\",\"n_in_subcategory\":132,\"n_in_category\":3490,\"y\":132,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str republican\",\"marital\":\"Separated\",\"n_in_subcategory\":60,\"n_in_category\":3032,\"y\":60,\"name\":\"Not str republican\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Separated\",\"n_in_subcategory\":96,\"n_in_category\":2499,\"y\":96,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"Separated\",\"n_in_subcategory\":56,\"n_in_category\":2314,\"y\":56,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Separated\",\"n_in_subcategory\":55,\"n_in_category\":1791,\"y\":55,\"name\":\"Ind,near rep\"},{\"partyid\":\"Other party\",\"marital\":\"Separated\",\"n_in_subcategory\":11,\"n_in_category\":393,\"y\":11,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Separated\",\"n_in_subcategory\":9,\"n_in_category\":154,\"y\":9,\"name\":\"No answer\"},{\"partyid\":\"Don't know\",\"marital\":\"Separated\",\"n_in_subcategory\":0,\"n_in_category\":1,\"y\":0,\"name\":\"Don't know\"}],\"type\":\"bar\"},{\"name\":\"Divorced\",\"data\":[{\"partyid\":\"Independent\",\"marital\":\"Divorced\",\"n_in_subcategory\":661,\"n_in_category\":4119,\"y\":661,\"name\":\"Independent\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Divorced\",\"n_in_subcategory\":601,\"n_in_category\":3690,\"y\":601,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Divorced\",\"n_in_subcategory\":614,\"n_in_category\":3490,\"y\":614,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str republican\",\"marital\":\"Divorced\",\"n_in_subcategory\":422,\"n_in_category\":3032,\"y\":422,\"name\":\"Not str republican\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Divorced\",\"n_in_subcategory\":399,\"n_in_category\":2499,\"y\":399,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"Divorced\",\"n_in_subcategory\":306,\"n_in_category\":2314,\"y\":306,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Divorced\",\"n_in_subcategory\":283,\"n_in_category\":1791,\"y\":283,\"name\":\"Ind,near rep\"},{\"partyid\":\"Other party\",\"marital\":\"Divorced\",\"n_in_subcategory\":68,\"n_in_category\":393,\"y\":68,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Divorced\",\"n_in_subcategory\":29,\"n_in_category\":154,\"y\":29,\"name\":\"No answer\"},{\"partyid\":\"Don't know\",\"marital\":\"Divorced\",\"n_in_subcategory\":0,\"n_in_category\":1,\"y\":0,\"name\":\"Don't know\"}],\"type\":\"bar\"},{\"name\":\"Widowed\",\"data\":[{\"partyid\":\"Independent\",\"marital\":\"Widowed\",\"n_in_subcategory\":270,\"n_in_category\":4119,\"y\":270,\"name\":\"Independent\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Widowed\",\"n_in_subcategory\":354,\"n_in_category\":3690,\"y\":354,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Widowed\",\"n_in_subcategory\":425,\"n_in_category\":3490,\"y\":425,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str republican\",\"marital\":\"Widowed\",\"n_in_subcategory\":231,\"n_in_category\":3032,\"y\":231,\"name\":\"Not str republican\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Widowed\",\"n_in_subcategory\":157,\"n_in_category\":2499,\"y\":157,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"Widowed\",\"n_in_subcategory\":210,\"n_in_category\":2314,\"y\":210,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Widowed\",\"n_in_subcategory\":118,\"n_in_category\":1791,\"y\":118,\"name\":\"Ind,near rep\"},{\"partyid\":\"Other party\",\"marital\":\"Widowed\",\"n_in_subcategory\":26,\"n_in_category\":393,\"y\":26,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Widowed\",\"n_in_subcategory\":16,\"n_in_category\":154,\"y\":16,\"name\":\"No answer\"},{\"partyid\":\"Don't know\",\"marital\":\"Widowed\",\"n_in_subcategory\":0,\"n_in_category\":1,\"y\":0,\"name\":\"Don't know\"}],\"type\":\"bar\"},{\"name\":\"Married\",\"data\":[{\"partyid\":\"Independent\",\"marital\":\"Married\",\"n_in_subcategory\":1805,\"n_in_category\":4119,\"y\":1805,\"name\":\"Independent\"},{\"partyid\":\"Not str democrat\",\"marital\":\"Married\",\"n_in_subcategory\":1573,\"n_in_category\":3690,\"y\":1573,\"name\":\"Not str democrat\"},{\"partyid\":\"Strong democrat\",\"marital\":\"Married\",\"n_in_subcategory\":1377,\"n_in_category\":3490,\"y\":1377,\"name\":\"Strong democrat\"},{\"partyid\":\"Not str republican\",\"marital\":\"Married\",\"n_in_subcategory\":1721,\"n_in_category\":3032,\"y\":1721,\"name\":\"Not str republican\"},{\"partyid\":\"Ind,near dem\",\"marital\":\"Married\",\"n_in_subcategory\":1033,\"n_in_category\":2499,\"y\":1033,\"name\":\"Ind,near dem\"},{\"partyid\":\"Strong republican\",\"marital\":\"Married\",\"n_in_subcategory\":1454,\"n_in_category\":2314,\"y\":1454,\"name\":\"Strong republican\"},{\"partyid\":\"Ind,near rep\",\"marital\":\"Married\",\"n_in_subcategory\":922,\"n_in_category\":1791,\"y\":922,\"name\":\"Ind,near rep\"},{\"partyid\":\"Other party\",\"marital\":\"Married\",\"n_in_subcategory\":171,\"n_in_category\":393,\"y\":171,\"name\":\"Other party\"},{\"partyid\":\"No answer\",\"marital\":\"Married\",\"n_in_subcategory\":60,\"n_in_category\":154,\"y\":60,\"name\":\"No answer\"},{\"partyid\":\"Don't know\",\"marital\":\"Married\",\"n_in_subcategory\":1,\"n_in_category\":1,\"y\":1,\"name\":\"Don't know\"}],\"type\":\"bar\"}],\"xAxis\":{\"type\":\"category\",\"title\":{\"text\":\"partyid\"},\"categories\":null}},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## A necessary aside on licensing\n\n`{highcharter}` is a wrapper for the incredible [https://highcharts.com/](highcharts.com) JavaScript framework. It is **not free** to use `{highcharter}` in [commercial projects](https://shop.highcharts.com/), but there are free license options for [personal projects](https://shop.highcharts.com/contact/personal) and [educational usage](https://www.highcharts.com/blog/education/).\n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<script src=\"../../site_libs/proj4js-2.3.15/proj4.js\"></script>\n<link href=\"../../site_libs/highcharts-9.3.1/css/motion.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/highcharts-9.3.1/highcharts.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/highcharts-3d.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/highcharts-more.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/stock.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/map.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/data.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/exporting.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/offline-exporting.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/drilldown.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/item-series.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/annotations.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/export-data.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/funnel.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/heatmap.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/treemap.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/sankey.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/dependency-wheel.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/organization.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/solid-gauge.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/streamgraph.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/sunburst.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/vector.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/wordcloud.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/xrange.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/tilemap.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/venn.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/gantt.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/timeline.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/parallel-coordinates.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/bullet.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/coloraxis.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/dumbbell.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/lollipop.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/series-label.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/plugins/motion.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/custom/reset.js\"></script>\n<script src=\"../../site_libs/highcharts-9.3.1/modules/boost.js\"></script>\n<script src=\"../../site_libs/highchart-binding-0.9.4/highchart.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}