[
  {
    "objectID": "posts/softblock-demo/index.html",
    "href": "posts/softblock-demo/index.html",
    "title": "Stub",
    "section": "",
    "text": "Reusehttps://creativecommons.org/licenses/by/4.0/CitationBibTeX citation:@online{hadley2022,\n  author = {Charlotte Hadley},\n  title = {Stub},\n  date = {2022-05-10},\n  url = {https://visibledata.co.uk/posts/softblock-demo},\n  langid = {en},\n  abstract = {Long stubb!.}\n}\nFor attribution, please cite this work as:\nCharlotte Hadley. 2022. “Stub.” May 10, 2022. https://visibledata.co.uk/posts/softblock-demo."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Visible Data",
    "section": "",
    "text": "R in 3 Months is an incredible opportunity to learn R with weekly personalised video feedback.\n            \n            \n        \n    \n    \n        \n            \n                \n                We've created 5+ courses @ LinkedIn Learning on building interactive dataviz & shiny apps with R.\n            \n            \n        \n    \n    \n        \n            \n                \n                We're extremely proud of this $99 course on building static and interactive maps with R."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "I’m Charlie Hadley and Visible Data is my data science and training consultancy. My handle elsewhere is almost universally @charliejhadley.\nI’m an R instructor and data science consultant. This website is as a portfolio of my courses, charts and other things that don’t have a good home elsewhere. I’m also an Open Data and Reproducible Research evangelist.\nAll tech is political. Our common future and freedom requires intersectionality.\nI really enjoy talking and delivering workshops about dataviz, R and reproducible research - please do get in touch charlie@visibledata.co.uk. The timeline below gives more information about my career changes and a selection of the workshops and talks I’ve given."
  },
  {
    "objectID": "about.html#more",
    "href": "about.html#more",
    "title": "About",
    "section": "More",
    "text": "More"
  },
  {
    "objectID": "about.html#can-i-make-a-website-like-this",
    "href": "about.html#can-i-make-a-website-like-this",
    "title": "About",
    "section": "Can I make a website like this?",
    "text": "Can I make a website like this?\nYup! I’m indebted to Drew Dimmery who makes the source of his Quarto website available here - https://github.com/ddimmery/quarto-website"
  },
  {
    "objectID": "training.html",
    "href": "training.html",
    "title": "Training",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "training.html#r-in-3-months",
    "href": "training.html#r-in-3-months",
    "title": "Training",
    "section": "R in 3 Months",
    "text": "R in 3 Months\n\n\n\n\n\n\nI’m particularly proud of my work as a co-instructor with David Keyes on the excellent R in 3 Months course that runs twice a year in the Spring and Fall.\nThe course includes weekly assignments where students use their own datasets and I record personalised feedback videos for each student. Over the course of the 12 weeks students build up a solid understanding of R and how to use RMarkdown to create rich and easy to read reports.\nThe course is $999 or $399 for those in countries with lower GDPs."
  },
  {
    "objectID": "training.html#on-demand-training",
    "href": "training.html#on-demand-training",
    "title": "Training",
    "section": "On-demand Training",
    "text": "On-demand Training\n\nLinkedIn Learning\nI’ve been recording training courses for LinkedIn Learning since 2016. Access to these courses is available through a LinkedIn Premium subscription or can be purchased a la carte. Many Universities provide students and staff with free access to LinkedIn Learning - check with your IT department.\n\n\n\n        \n            \n                \n                Go from zero to well designed shiny apps in 2h50m.\n            \n            \n        \n\n\n        \n            \n                \n                Learn to wrangle and explore data with the tidyverse.\n            \n            \n        \n\n\n        \n            \n                \n                A 5h25m intro to interactive maps, charts and more with R.\n            \n            \n        \n\n\n\n        \n            \n                \n                A thorough introduction to reports and more with RMarkdown.\n            \n            \n        \n\n\n        \n            \n                \n                Learn how to combine {shiny} and RMarkdown together.\n            \n            \n        \n\n\n\n\n\n\nMapping with R ($99)\n\n\n\n\n\nI’ve designed this course specifically for folks who’ve never built a map or worked with GIS datasets before. The course introduces you to the excellent {sf} package and how to use it alongside the tidyverse for wrangling and exploring spatial data.\nYou’ll then learn how to create static maps with {ggplot2} and interactive maps with {leaflet}. I’ll also ensure you go away with sufficiency knowledge to work with projections, CRS and where to obtain shapefiles.\nThis course is available through the excellent R for the Rest of Us course catalogue."
  },
  {
    "objectID": "training.html#public-courses",
    "href": "training.html#public-courses",
    "title": "Training",
    "section": "Public courses",
    "text": "Public courses\n\n\nI partner with JB International to deliver monthly scheduled public R courses.  JB International have 20+ years experience in hosting and organising corporate training courses - but we also often see academics in these public courses too. Public courses are an affordable choice and an excellent opportunity to learn alongside other folks. If you’d prefer a bespoke course, please see below.\nI also deliver 3 courses a year through the Royal Statistical Society.  These courses are attended equally by both academics and folks from industry. This happens to be the most cost effective way to attend our courses, for non-RSS members attendance is £693.60 + VAT."
  },
  {
    "objectID": "training.html#custom-training-courses",
    "href": "training.html#custom-training-courses",
    "title": "Training",
    "section": "Custom training courses",
    "text": "Custom training courses\n\nOur training courses focus on using the R language for data science, reporting or data visualisation. Our courses are delivered using RMardown lecture slides for foundational material and use live coding exercises to replicate the real-world experience of using R.We encourage learners to tell us:\n“we need that chart/dashboard to do X”\nor\n“that’s not good enough for our needs - we need Y”\nI’d recommend considering booking a bespoke course through our partner JB International. They’ve been working with both small and (very) large corporates since 1995 and are better suited to processing payments and booking requests than my small consultancy. I genuinely enjoy working with these folks - they’re very fair to me and to their customers.If you would prefer to get in touch directly with me, then please email me at charlie@visibledata.co.uk."
  },
  {
    "objectID": "cv.html",
    "href": "cv.html",
    "title": "Curriculum Vitae",
    "section": "",
    "text": "{{< include research.md >}}"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nshiny\n\n\n\n\nHelp reduce the duplication of code in {shiny} apps through the use of modules\n\n\n\n\n\n\nJul 9, 2019\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nshiny\n\n\n\n\nIf you need to re-use combinations of controls in {shiny} apps (or across multiple app) then modules can help!\n\n\n\n\n\n\nMar 25, 2019\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nreproducible research\n\n\n\n\nThis one weird regex matches 97% of DOI…\n\n\n\n\n\n\nMar 13, 2019\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\ndataviz\n\n\nGIS\n\n\n\n\nUniversity of Oxford has over 800 years of history to it, but if you want to organise a meeting at the centre of campus… where do you meet?\n\n\n\n\n\n\nFeb 18, 2019\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndataviz\n\n\nR\n\n\n\n\nggmap is an awesome package for creating maps with ggplot2. If you’ve seen a nice looking map built with ggplot2 I can almost guarantee you that it uses ggmap to look that good. The ggmap package is used to obtain base maps from the APIs of a number of online mapping tools, the one we care about here is the base maps from Google Maps (because they’re very good).\n\n\n\n\n\n\nDec 5, 2018\n\n\nCharlie Joey Hadley\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html#experience-timeline",
    "href": "about.html#experience-timeline",
    "title": "About",
    "section": "Experience timeline",
    "text": "Experience timeline\n\n\n    \n        \n            \n                \n                \n                    \n                \n            \n        \n        \n            \n                \n                \n                    \n                    \n                        \n                            2022\n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        Visiting Lecturer: Birmingham City University\n                                        In 2022 I'm debuting my MSc module ENG7218 Data Science for Healthcare Applications as a visiting lecturer at Birmingham City University.\n                                    \n                                \n                            \n                        \n                        \n                        \n                    \n                    \n                        \n                            2021\n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        R in 3 Months\n                                        Since 2021 I've been co-instructor on the awesome R in 3 Months program, which runs twice a year in the Spring and Fall. Each intake has 50+ students who submit weekly assignments and participate in both synchronous and asynchronous weekly content. I'm primarily responsible for weekly feedback and it's the most fun I have teaching each year. I definitely recommend joining the course.\n                                    \n                                \n                            \n                        \n                    \n                                            \n                    \n                    \n                        \n                            2019\n                        \n                                                \n                            \n                                \n                                    \n                                    \n                                        Job change: Full-time self-employed at Visible Data Ltd\n                                        From mid 2019 I've been working as a full-time independent data science consultant and trainer through my consultancy Visible Data Ltd. I primarily partner with third-party training providers but please do get in touch if you would like custom courses directly. Since 2021 I've also been working on consultancy projects via R for the Rest of Us\n                                    \n                                \n                            \n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        R-Ladies: Chicago\n                                        Talk about using R to create interactive data visualisations with htmlwidgets and {shiny}.\n                                    \n                                \n                            \n                             \n                                \n                                    \n                                    \n                                        DHoxSS 2019\n                                        Invited talk at DHoxSS about data visualisation to increase research impact.\n                                    \n                                \n                            \n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        BristolR\n                                        Talk about building reproducible data visualisation workflows with R and {shiny}.\n                                    \n                                \n                            \n                             \n                                \n                                    \n                                    \n                                        rstudio::conf workshop\n                                        As part of my CPD I attended this workshop from RStudio designed to train folks in how to train others to use {shiny}.\n                                    \n                                \n                            \n                        \n                    \n                                            \n                                        \n                    \n                        \n                            2017\n                        \n                                                \n                             \n                                \n                                    \n                                    \n                                        Job Change: Service Delivery Manager at University of Oxford\n                                        After successfully managing the Live Data pilot project I was promoted to Service Delivery Manager for the newly instated Interactive Data Network. The pilot project only provided sufficienct resources for a small-scale service. I was responsible for growing the reputation of the data visualisation service and planning sufficienct instructure to develop an University-wide service.\n                                    \n                                \n                            \n                             \n                        \n                             \n                                \n                                    \n                                    \n                                        Conference Host: The Missing Link in Publishing: Interactive Data Viz\n                                        This conference was designed to launch the Interactive Data Network at University of Oxford. I was responsible for organising and hosting this one day conference, and also delivered a training workshop. The conference invited speakers from the FT, ONS and OPU to discuss how interactive data visualisation is used to engage their audiences and improve the comprehension of data-rich articles.\n                                    \n                                \n                            \n                                                \n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        OSDC Conference Workshop\n                                        Invited workshop on using R and data visualisations to explore datasets.\n                                    \n                                \n                            \n                             \n                                \n                                    \n                                    \n                                        Royal Statistical Society Conference\n                                        Invited one day workshop on using R to build interactive data visualisations to tell stories.\n                                    \n                                \n                            \n                        \n                    \n                                            \n                                                                \n                        \n                            2016\n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        IDCC Conference Talk\n                                        Submitted talk to the IDCC conference about my successful Live Data pilot project to launch a data visualisation service at University of Oxford.\n                                    \n                                \n                            \n                             \n                                \n                                    \n                                    \n                                        DHoxSS Workshop\n                                        Four day workshop introducing humanities researchers to using the Wolfram Language for analysing and visualising humanities data.\n                                    \n                                \n                            \n                        \n                        \n                                                \n                    \n                    \n                        \n                            2015\n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        Job change: Research Support Engineer at University of Oxford\n                                        In 2015 I joined the Research Support team at University of Oxford as a Research Software Engineer. My daily duties involved supporting researchers in reproducible research methods. Early in my employment I was tasked with being project manager for the Live Data project with the aim of launching a data visualisation service for all researchers at Oxford. This project was successful and led to me being promoted to Service Delivery Manager in 2017.\n                                    \n                                \n                            \n                        \n                    \n                        \n                    \n                    \n                        \n                            2014\n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        Visiting Lecturer: American University in Cairo\n                                        As part of a program to roll out teaching with Mathematica across the physical sciences I was invited as a visiting lecturer to the American University in Cairo to train lecturers in the Wolfram Language and the CBM pedagogical approach.\n                                    \n                                \n                            \n                        \n                    \n                                            \n                    \n                    \n                        \n                            2012\n                        \n                        \n                            \n                                \n                                    \n                                    \n                                        Job change: Technical Consultant at Wolfram Research\n                                        In 2012 I joined Wolfram Research as a pre-sales technical consultant. Initially I was primarily responsible for developing and delivering customer-personalised technical demonstrations of Mathematica, including at C-level meetings. I also revamped several of the commercial training courses, and taught on the CQF program. Towards the end of my employment I was a senior consultant working on-site to build products for customers."
  },
  {
    "objectID": "about.html#overall-timeline",
    "href": "about.html#overall-timeline",
    "title": "About",
    "section": "Overall timeline",
    "text": "Overall timeline\n\n\n                    \n                        \n                            \n                                2 June\n                                Event One\n                                It will be as simple as occidental in fact it will be Occidental Cambridge friend\n                                \n                                    Read more\n                                \n                            \n                        \n                        \n                            \n                                5 June\n                                Event Two\n                                Everyone realizes why a new common language one could refuse translators.\n                                \n                                    Read more\n                                \n                            \n                        \n                        \n                            \n                                7 June\n                                Event Three\n                                Everyone realizes why a new common language one could refuse translators.\n                                \n                                    Read more\n                                \n                            \n                        \n                        \n                            \n                                8 June\n                                Event Four\n                                Languages only differ in their pronunciation and their most common words.\n                                \n                                    Read more"
  },
  {
    "objectID": "about.html#testimonials",
    "href": "about.html#testimonials",
    "title": "About",
    "section": "Testimonials",
    "text": "Testimonials\n\n\n\nCharlie’s expertise of R made the training session I had absolutely brilliant! We covered a mass of material, without it seeming overwhelming.\n\nData Scientist, Insurance Industry\n\n\n\n\n\nCharlie’s enthusiasm & passion for all things R, are hard not to get caught up in. I will look forward to reading blogs by Charlie and hopefully attending more trainings in the future.\n\nBenjamin Sutton, Brit Insurance\n\n\n\n\n\n\n\nThank you so much Charlie! I’m really impressed with the quality of this course, and I’ll be referring back to certain videos/topics as they come up in my geospatial journey ;) Thanks again!\n\nData Scientist, Fishing Industry\n\n\n\n\n\nThank you for all the help! I feel like searching the internet for help with R is like looking for a very specific needle across a giant field of haystacks, and you both are the metal detectors that get us where we need to be more quickly.\n\nTechnical Director, Tropical Health"
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html",
    "title": "Shiny modules for useful controls",
    "section": "",
    "text": "Shiny Modules are an “advanced” feature of Shiny apps that developers can use to reduce code duplication, simplify complex inter-relating controls, allow UI elements to be compartmentalised into R packages… and generally be a Shiny magician.\nMuch of the stuff written about modules gets lost in the weeds. We’re not going to do that here. We’re going to make the Shiny app I’ve embedded below (as an iframe), both with and without modules.\nThis app is slightly complicated, but deliberately so. I want to give you a real world example of using Shiny modules.\nWe’ll go through the following steps:"
  },
  {
    "objectID": "posts/2019-07-09-shiny-modules-to-reduce-duplication-in-apps/index.html",
    "href": "posts/2019-07-09-shiny-modules-to-reduce-duplication-in-apps/index.html",
    "title": "Shiny modules to reduce duplication in apps",
    "section": "",
    "text": "When I started learning modules, I found most of the existing articles focus on the technical-side of things and don’t focus on the benefits of using modules - they can significantly simplify and improve your apps.\nI’m going to put together a few different tutorials on real-world Shiny apps and how modules can be used to improve them. As these tutorials develop I’ll link to them below.\nBut for now, we’re going to build this Shiny app:\n\n\n\n\n\n\n\n\nThe shiny app displays data from the WDI package\nEach “page” of the Shiny app details a different “development indicator” from the WDI package\nUsers select a country of interest from a pull-down menu\nThe chart, text and table underneath the pull-down menu all update when a country is selected\nThe charts, text and tables are the same on each page except for two variables; the selected country and the indicator detailed on that page.\n\n\n\n\nHow to use this tutorial\nIt’s often useful to skim read through a tutorial before attempting to run the code on your own machine. If you do want to follow along with the code, you will need to install the {usethis} package before starting.\nThis tutorial is split into\n\nShiny app without modules\nShiny app\n\n\n\nShiny app without modules\nThe module-free version of the Shiny app can be downloaded onto your machine by running this code:\n\nusethis::use_course(\"https://github.com/charliejhadley/training_shiny-module/raw/master/wdi_indicators_modules/01_without-modules.zip\")\n\nOnce the RStudio project has opened, let’s take a look at the structure of the ui.R file in the app:\n\ncountries_list <- c(...)\n\nnavbarPage(\n  \"WDI\",\n  tabPanel(\n    \"Internet\",\n    fluidPage(\n      selectInput(\"internet_country\",\n                  choices = countries_list),\n      ...\n    )\n  ),\n  tabPanel(\n    \"Bank branches\",\n    fluidPage(\n      selectInput(\"bank_branches_country\",\n                  choices = countries_list),\n      ...\n    )\n  ),\n  ...\n)\n\nWe’re essentailly duplicating the same selectInput() in each of our tabPanel()s. If there were many controls being repeated we could make an argument for using modules from this file alone.\nLet’s take a look at the server.R file of this app:\n\nfunction(input, output, session){\n  \n  output$internet_timeline <- renderPlot({\n    \n    wdi_data %>%\n      gg_wdi_indicator_timeline(input$internet_country,\n                                ...)\n    \n  })\n  \n  output$internet_comparison_table <- renderUI({\n    \n    ranking_table <- wdi_data %>%\n    filter(country == input$internet_country) %>%\n    \n    ranking_table %>%\n        datatable()\n        \n  })\n  \n  output$bank_branches_timeline <- renderPlot({\n    \n    wdi_data %>%\n      gg_wdi_indicator_timeline(input$bank_branches_country,\n                              ...)\n    \n  })\n  \n  output$bank_branches_comparison_table <- renderUI({\n    \n    ranking_table <- wdi_data %>%\n    filter(country == input$bank_branches_country) %>%\n    ...\n    \n    ranking_table %>%\n        datatable(...)\n        \n  })\n  \n}\n\nThere’s a lot of duplication in this file. If we wanted to add a new tab about the number of secondary school students, we would have to add all of the following:\n\n## ui.R\ntabPanel(\n  \"Secondary schools\",\n  fluidPage(\n    selectInput(\"secondary_schools_country\",\n                choices = countries_list),\n    ...\n  )\n)\n## server.R\noutput$secondary_schools_timeline <- renderPlot({\n  \n  wdi_data %>%\n    gg_wdi_indicator_timeline(input$secondary_schools_country,\n                              ...)\n  \n})\n\noutput$secondary_schools_comparison_table <- renderUI({\n  \n  ranking_table <- wdi_data %>%\n    filter(country == input$secondary_schools_country) %>%\n    ...\n  \n  ranking_table %>%\n    datatable(...)\n  \n})\n\nLet’s breakdown the advantages to re-writing this app to use modules.\n\nWhat would be the benefits of switching to use modules?\n\nWithout modules, if we wanted to change the look of the “comparison tables” we would need to do that X times - once for each output$*_comparison_table object. Modules therefore help reduce transcription or copy/paste errors.\nModules will allow us to change the\nModules will reduce script file length, making the code easier to read and understand\nCurrently, if we wanted to change\n\nIf we needed to add another tab to our\nEach time we add a new tab to our shiny app, we’ll need to create a new pair of render*() functions and corresponding inputs in the ui.R file.\nBy re-designing our app to use modules, we’ll benefit from the following:\n\nReduced script file lenght, improving readability\nSimpler feature updates, changing the module code will update all pages at once.\n\n\n\n\n\n\nReusehttps://creativecommons.org/licenses/by/4.0/CitationBibTeX citation:@online{hadley2019,\n  author = {Charlotte Hadley},\n  title = {Shiny Modules to Reduce Duplication in Apps},\n  date = {2019-07-09},\n  url = {https://visibledata.co.uk/posts/2019-07-09-shiny-modules-to-reduce-duplication-in-apps},\n  langid = {en}\n}\nFor attribution, please cite this work as:\nCharlotte Hadley. 2019. “Shiny Modules to Reduce Duplication in\nApps.” July 9, 2019. https://visibledata.co.uk/posts/2019-07-09-shiny-modules-to-reduce-duplication-in-apps."
  },
  {
    "objectID": "posts/2022-06-17_test/index.html",
    "href": "posts/2022-06-17_test/index.html",
    "title": "Test new post",
    "section": "",
    "text": "Reusehttps://creativecommons.org/licenses/by/4.0/CitationBibTeX citation:@online{hadley2022,\n  author = {Charlotte Hadley},\n  title = {Test New Post},\n  date = {2022-06-17},\n  url = {https://visibledata.co.uk/posts/2022-06-17_test},\n  langid = {en},\n  abstract = {Long stubb!.}\n}\nFor attribution, please cite this work as:\nCharlotte Hadley. 2022. “Test New Post.” June 17, 2022. https://visibledata.co.uk/posts/2022-06-17_test."
  },
  {
    "objectID": "posts/2019-03-13_extracting-doi-from-text/index.html",
    "href": "posts/2019-03-13_extracting-doi-from-text/index.html",
    "title": "One weird regex matches 97% of DOI…",
    "section": "",
    "text": "… wait, why?\nThe R for Data Science book has lots of excellent advice, including this snippet about reducing duplicated code by writing functions:\n\nSo, what are DOI? DOI (Digital Object Identifiers) are the gold standard for citations. They’re guaranteed to point directly to the resource you care about. But how can we reliably extracting DOI from, for example, the following references?\n\nlibrary(\"tidyverse\")\nexample_references <- tibble(\n  text_citation = c('Gueorgi Kossinets and Duncan J. Watts, \"Origins of Homophily in an Evolving Social Network,\" American Journal of Sociology 115 (2009):414, accessed December 5, 2014, doi:10.1086/599247',\n                        'Morey, C. C., Cong, Y., Zheng, Y., Price, M., & Morey, R. D. (2015). The color-sharing bonus: Roles of perceptual organization and attentive processes in visual working memory. Archives of Scientific Psychology, 3, 18–29. https://doi.org/10.1037/arc0000014',\n                        'Barros, B., Read, T. & Verdejo, M. F. (2008) Virtual collaborative experimentation:\nan approach combining remote and local labs. IEEE Transactions on Education. 51 (2),\n242–250. Available from: doi:10.1109/TE.2007.908071'))\n\nCrossRef have a great blogpost about how to match DOIs using regular expressions where they recommend the following regex, which matches 97% of the 74.9 million DOI they tested. The majority of the ~500,000 not matched by this regex are from the bad old days of the early noughties, and outside of our interest.\n\ndoi_regex <- \"10.\\\\d{4,9}/[-._;()/:a-z0-9A-Z]+\"\n\nUsing str_extract() from the tidyverse package stringr allows us to extract the DOIs from our reference:\n\nexample_references %>%\n  mutate(doi = str_extract(text_citation, doi_regex))\n\n# A tibble: 3 × 2\n  text_citation                                                            doi  \n  <chr>                                                                    <chr>\n1 \"Gueorgi Kossinets and Duncan J. Watts, \\\"Origins of Homophily in an Ev… 10.1…\n2 \"Morey, C. C., Cong, Y., Zheng, Y., Price, M., & Morey, R. D. (2015). T… 10.1…\n3 \"Barros, B., Read, T. & Verdejo, M. F. (2008) Virtual collaborative exp… 10.1…\n\n\nThis can all be rolled together into a function; add_doi(). If you’re unfamiliar with !!, enquo and := that’s because I’m using tidyeval, find out more about tidyeval here.\n\nadd_doi <- function(.data, citation_column, name = \"doi\") {\n  citation_column <- enquo(citation_column)\n\n  if (name != \"n\" && name %in% colnames(.data)) {\n    rlang::abort(glue::glue(\"Column `{name}` already exists in the data\"))\n  }\n  \n  .data %>%\n    mutate(!!name := str_extract(!!citation_column, \"10.\\\\d{4,9}/[-._;()/:a-z0-9A-Z]+\"))\n}\n\nBecause the function is written with tidyeval I can use naked column names just as a I would with dplyr::add_count():\n\nexample_references %>%\n  add_doi(text_citation)\n\n# A tibble: 3 × 2\n  text_citation                                                            doi  \n  <chr>                                                                    <chr>\n1 \"Gueorgi Kossinets and Duncan J. Watts, \\\"Origins of Homophily in an Ev… 10.1…\n2 \"Morey, C. C., Cong, Y., Zheng, Y., Price, M., & Morey, R. D. (2015). T… 10.1…\n3 \"Barros, B., Read, T. & Verdejo, M. F. (2008) Virtual collaborative exp… 10.1…\n\n\n\n\n\nReusehttps://creativecommons.org/licenses/by/4.0/CitationBibTeX citation:@online{hadley2019,\n  author = {Charlotte Hadley},\n  title = {One Weird Regex Matches 97\\% of {DOI...}},\n  date = {2019-03-13},\n  url = {https://visibledata.co.uk/posts/2019-03-13_extracting-doi-from-text},\n  langid = {en}\n}\nFor attribution, please cite this work as:\nCharlotte Hadley. 2019. “One Weird Regex Matches 97% of\nDOI...” March 13, 2019. https://visibledata.co.uk/posts/2019-03-13_extracting-doi-from-text."
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#how-to-follow-along",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#how-to-follow-along",
    "title": "Shiny modules for useful controls",
    "section": "How to follow along",
    "text": "How to follow along\nTo follow along you are advised to create a new RStudio Project and create the files detailed below in turn."
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#whats-the-app",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#whats-the-app",
    "title": "Shiny modules for useful controls",
    "section": "What’s the app?",
    "text": "What’s the app?\nThe app allows the viewer to interact with data from the Online Labour Index. This is a project undertaken by the University of Oxford’s Internet Institute to study the online labour market, and ultimately to provide an economic indicator for the gig economy. The data is deposited on Figshare, which means anyone can access (and importantly, cite) the data with the following DOI: 10.6084/m9.figshare.3761562."
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#data-import-wrangling-and-stuff",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#data-import-wrangling-and-stuff",
    "title": "Shiny modules for useful controls",
    "section": "Data import, wrangling and stuff",
    "text": "Data import, wrangling and stuff\nLet’s completely ignore the details of accessing and wrangling the data. This is a tutorial on Shiny modules.\nCreate yourself a new script file called data-processing.R and insert this code. Please note that when this script is run it will download a dataset that in early 2019 is 37Mb in size, this will double every 3 years1.\n\n## This code should be inserted into your data-processing.R script\nfs_deposit_id <- 3761562\ndeposit_details <- fs_details(fs_deposit_id)\n\ndeposit_details <- unlist(deposit_details$files)\ndeposit_details <-\n  data.frame(split(deposit_details, names(deposit_details)), stringsAsFactors = F)\n\nimported_country_group_data <- deposit_details %>%\n  filter(str_detect(name, \"bcountrydata_\")) %>%\n  pull(download_url) %>%\n  read_csv() %>%\n  mutate(timestamp = as_date(timestamp)) %>%\n  rename(date = timestamp)\n\ngigs_by_country_group <- imported_country_group_data %>%\n  group_by(date, country_group) %>%\n  summarise(jobs = sum(count)) %>%\n  ungroup()\n\ngigs_by_occupation <- imported_country_group_data %>%\n  group_by(date, occupation) %>%\n  summarise(count = sum(count)) %>%\n  rename(jobs = count) %>%\n  ungroup()\n\nPlease note, we don’t run this code yet. It’s going to be loaded in our server.R file."
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#server.r-skeleton",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#server.r-skeleton",
    "title": "Shiny modules for useful controls",
    "section": "server.R skeleton",
    "text": "server.R skeleton\nHere’s the skeleton for our server.R file, go ahead and create this on your machine:\n\n## this is how your server.R file should look\nlibrary(\"shiny\")\nlibrary(\"tidyverse\")\nlibrary(\"rfigshare\")\nlibrary(\"lubridate\")\nlibrary(\"xts\")\nlibrary(\"ggsci\")\n\nsource(\"data-processing.R\", local = TRUE)\n\nfunction(input, output, session){\n  \n  \n}\n\nSome things to note about our file:\n\nWe’ve loaded all of the packages needed for the whole app, not just the data wrangling.\nWe’ve used source() to run the data wrangling script when the Shiny app loads\nOur shiny server function contains three arguments. Many Shiny tutorials ommit the session argument, but it’s integral for Shiny modules to work correctly.\n\nWe’re about to run our script file, but first register for a Figshare.com account so you can use the rfigshare package. Now run this script."
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#gg_ma_timeseries",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#gg_ma_timeseries",
    "title": "Shiny modules for useful controls",
    "section": "gg_ma_timeseries",
    "text": "gg_ma_timeseries\nLet’s assume for a minute that the dataviz we’re creating here is important enough that we might want to use it in other places than just this Shiny app. The easiest way to support this is by placing the script for the dataviz in its own file.\nCreate a new file called gg_ma_timeseries.R and add the following code, we’ll walk through the potentially mysterious enquo part of the functions in two minutes.\n\n## this is how your gg_ma_timeseries.R file should look\ngg_ma_timeseries <- function(.data, date, value, category) {\n  date <- enquo(date)\n  \n  value <- enquo(value)\n  \n  category <- enquo(category)\n  \n  n_colours <- .data %>%\n    pull(!!category) %>%\n    unique() %>%\n    length()\n  \n  colours_from_startrek <- colorRampPalette(pal_startrek(palette = c(\"uniform\"))(7))(n_colours)\n  \n  \n  .data %>%\n    ggplot(aes(\n      x = !!date,\n      y = !!value,\n      color = !!category\n    )) +\n    geom_line() +\n    theme_bw() +\n    scale_color_manual(values = colours_from_startrek) +\n    scale_x_date(expand = c(0.01, 0.01)) +\n    scale_y_continuous(expand = c(0.01, 0)) +\n    labs(\n      title = \"Example dataviz of Online Labour Index data\",\n      subtitle = \"DOI:10.6084/m9.figshare.376156\")\n}\n\nma_job_count <- function(.data, date, value, category, window_width){\n  \n  date <- enquo(date)\n  \n  value <- enquo(value)\n  \n  category <- enquo(category)\n  \n  window_width <- as.numeric(window_width)\n  \n  .data %>%\n    group_by(!!category) %>%\n    arrange(!!date) %>%\n    mutate(!!value := rollmean(!!value,\n                           k = window_width,\n                           na.pad = TRUE,\n                           align = \"right\"\n    )) %>%\n    filter(!is.na(!!value)) %>%\n    ungroup()\n  \n}\n\n\ngg_ma_timeseries() is the function which creates our ggplot2 timeseries dataviz\nma_job_count() is a little utility function for smoothing the data with xts::rollmean().\n\nLet’s load this file in our server.R script, so the file now has all of the code in it from before. Run this entire script.\n\n## this is how your server.R file should look\nlibrary(\"shiny\")\nlibrary(\"tidyverse\")\nlibrary(\"rfigshare\")\nlibrary(\"lubridate\")\nlibrary(\"xts\")\nlibrary(\"ggsci\")\n\nsource(\"data-processing.R\", local = TRUE)\n\nsource(\"gg_ma_timeseries.R\", local = TRUE)\n\nfunction(input, output, session){\n  \n  \n}\n\nI want to prove to you that this works. Create a new script file scratch-pad.R where we can experiment and play. Add the following code, and then run the script.\n\n## this is how your scratch-pad.R file should look\ngigs_by_occupation %>%\n  ma_job_count(date, jobs, occupation, 28) %>%\n  gg_ma_timeseries(date, jobs, occupation)\n\n\n\n\nNotice how the column names jobs, occupation and date have been given to gg_ma_timeseries without quotation marks? This is exactly the same as how we use functions from dplyr, e.g. iris %>% mutate(species = toupper(species)). These are what we call naked column names.\nThat’s why the functions use enquo() internally, it’s implementing non-standard evaluation with tidyeval. However, there’s zero need to understand this now (if you don’t want to). This is a Shiny module tutorial, so let’s move on to the ui.R file."
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#ui.r-skeleton",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#ui.r-skeleton",
    "title": "Shiny modules for useful controls",
    "section": "ui.R skeleton",
    "text": "ui.R skeleton\nHere’s the skeleton for our ui.R file, go ahead and create this on your machine:\n\n## this is how your ui.R file should look\nlibrary(\"shiny\")\nlibrary(\"shinycustomloader\")\nshinyServer(navbarPage(\n  \"Shiny Modules\",\n  tabPanel(\n    \"By occupation\",\n    fluidPage()\n  ),\n  tabPanel(\n    \"By country\",\n    fluidPage()\n  )\n))"
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#shiny-app-without-modules",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#shiny-app-without-modules",
    "title": "Shiny modules for useful controls",
    "section": "Shiny app without modules",
    "text": "Shiny app without modules\nA complete copy of this Shiny app that doesn’t use modules is available on Github here: https://github.com/charliejhadley/training_shiny-module/tree/master/gg_ma_timeseries/shiny-without-modules.\nThere’s a tremendous amount of duplication in the ui.R file to get the radioButtons() to look how I want them to. We need to use Shiny modules to simplify this, which we’ll do in the section below.\n\n## DO NOT COPY THIS CODE.\n## This is how the ui.R file looks without using modules.\nlibrary(\"shiny\")\nlibrary(\"shinycustomloader\")\n\nshinyServer(navbarPage(\n  \"Shiny without Modules\",\n  tabPanel(\n    \"By occupation\",\n    fluidPage(fluidRow(column(\n      radioButtons(\n        \"by_occupation_landing_rollmean_k\",\n        label = \"\",\n        choices = list(\n          \"Show daily value\" = 1,\n          \"Show 28-day moving average\" = 28\n        ),\n        selected = 28,\n        inline = TRUE\n      ),\n      width = 12\n    )),\n    withLoader(plotOutput(\"gg_gigs_by_occupation\")),\n    type = \"html\", loader = \"dnaspin\"\n    )\n  ),\n  tabPanel(\n    \"By country\",\n    fluidPage(fluidRow(column(\n      radioButtons(\n        \"by_country_group_landing_rollmean_k\",\n        label = \"\",\n        choices = list(\n          \"Show daily value\" = 1,\n          \"Show 28-day moving average\" = 28\n        ),\n        selected = 28,\n        inline = TRUE\n      ),\n      width = 12\n    )),\n    withLoader(plotOutput(\"gg_gigs_by_country_group\")),\n    type = \"html\", loader = \"dnaspin\"\n    )\n  )\n))\n\nThe server.R file is fairly tidy because we’ve already abstracted a lot of the app into functions:\n\n## DO NOT COPY THIS CODE.\n## This is how the server.R file looks without using modules.\nlibrary(\"shiny\")\nlibrary(\"tidyverse\")\nlibrary(\"rfigshare\")\nlibrary(\"lubridate\")\nlibrary(\"xts\")\nlibrary(\"ggsci\")\n\nsource(\"data-processing.R\", local = TRUE)\n\nsource(\"gg_ma_timeseries.R\", local = TRUE)\n\nfunction(input, output, session) {\n  output$gg_gigs_by_occupation <- renderPlot({\n    \n    gigs_by_occupation %>%\n      ma_job_count(date, jobs, occupation, input$by_occupation_landing_rollmean_k) %>%\n      gg_ma_timeseries(date, jobs, occupation)\n    \n  })\n\n  output$gg_gigs_by_country_group <- renderPlot({\n    \n    gigs_by_country_group %>%\n      ma_job_count(date, jobs, country_group, input$by_country_group_landing_rollmean_k) %>%\n      gg_ma_timeseries(date, jobs, country_group)\n    \n  })\n}"
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#introducing-the-shiny-module",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#introducing-the-shiny-module",
    "title": "Shiny modules for useful controls",
    "section": "Introducing the Shiny Module",
    "text": "Introducing the Shiny Module\nThe Shiny Module is composed of two components:\n\ngg_ma_timeseries_input() creates an instance of our controls.\ngg_ma_timeseries_output() creates an instance of the chart, which is dependent on a set of controls (specified in the server.R file).\n\n\n\n\nIt’s crucial that we place the code for these elements of the module in the correct place:\n\n\n\n\nRules for modules\nThis is one of the things left out of the other Shiny module tutorials I’ve read. Most tutorials deal with a toy example and don’t split the code into distinct ui.R and server.R files. Let’s establish some hard and fast rules about modules:\n\nPlace your module code in a subfolder called /modules.\nCode for inputs (controls) must be sourced in the ui.R file.\nCode for outputs (charts) must be sourced in the server.R file."
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#namespaces-with-ns",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#namespaces-with-ns",
    "title": "Shiny modules for useful controls",
    "section": "Namespaces with NS",
    "text": "Namespaces with NS\nRemember our server.R function?\n\nserver <- function(input, output, session){\n  \n}\n\nInside of our modules we need to manipulate values from both the input and output objects. In programming speak, we need to be careful about namespaces. In Shiny, this means we need to use the NS() function to guarantee we’re refering to the values we think we’re refering to. Let’s create the control for our modules, in a new script file: /modules/client-side_gg-ma-timeseries.R.\n\n## This is how your /modules/client-side_gg-ma-timeseries.R file should look\ngg_ma_timeseries_input <- function(id) {\n  ns <- NS(id)\n  tagList(\n    \"This entire tab is a shiny module, including; this text, the radio buttons and the chart.\",\n    fluidRow(column(\n      radioButtons(\n        ns(\"landing_rollmean_k\"),\n        label = \"\",\n        choices = list(\n          \"Show daily value\" = 1,\n          \"Show 28-day moving average\" = 28\n        ),\n        selected = 28,\n        inline = TRUE\n      ),\n      width = 12\n    ))\n  )\n}\n\nThings to take away from the gg_ma_timeseries_input() function:\n\nns <- NS(id) ensures we’re refering to values from the server input object\nns(\"landing_rollmean_k\") translates to input$landing_rollmean_k\nIf returning multiple ui elements they must be contained within tagList()… but it’s a great idea to use tagList() by default, it will prevent mishaps.\n\nThat’s our control. We need to create our output function that will display the chart rendered by the server, which we’ll call gg_ma_timeseries_output(). It takes a while to download and display the data in our chart, so it’s a good idea to use the excellent [shinycustomloader] package to show an animated “loading” GIF to the user. Please update your /modules/client-side_gg-ma-timeseries.R file so it looks like this:\n\n## This is how your /modules/client-side_gg-ma-timeseries.R file should look\nlibrary(\"shinycustomloader\")\n\ngg_ma_timeseries_input <- function(id) {\n  ns <- NS(id)\n  tagList(\n    \"This entire tab is a shiny module, including; this text, the radio buttons and the chart.\",\n    fluidRow(column(\n      radioButtons(\n        ns(\"landing_rollmean_k\"),\n        label = \"\",\n        choices = list(\n          \"Show daily value\" = 1,\n          \"Show 28-day moving average\" = 28\n        ),\n        selected = 28,\n        inline = TRUE\n      ),\n      width = 12\n    ))\n  )\n}\n\ngg_ma_timeseries_output <- function(id) {\n  ns <- NS(id)\n  withLoader(plotOutput(ns(\"ma_plot\")), type = \"html\", loader = \"dnaspin\")\n}\n\nOur output function is more complex than our input, because ns(\"ma_plot\") refers to an instace of output$ma_plot from the Shiny module, which we haven’t created yet\nThe trick to how NS() works inside of gg_ma_timeseries_output() is more complicated than our input function, and is explained in the section below. However, let’s\n\n## This is how your ui.R file should look\nlibrary(\"shiny\")\n\nsource(\"modules/client-side_gg-ma-timeseries.R\", local = TRUE)\n\nshinyServer(navbarPage(\n  \"Shiny Modules\",\n  tabPanel(\n    \"By occupation\",\n    fluidPage(\n      gg_ma_timeseries_input(\"occupation_controls\"),\n      gg_ma_timeseries_output(\"occupation_chart\")\n    )\n  ),\n  tabPanel(\n    \"By country\",\n    fluidPage(\n      gg_ma_timeseries_input(\"by_country_controls\"),\n      gg_ma_timeseries_output(\"by_country_chart\")\n    )\n  )\n))\n\n\nWe’re going to be extracting\nns <- NS(id) ensures we’re\nns(\"ma_plot\")"
  },
  {
    "objectID": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#things-they-dont-tell-you",
    "href": "posts/2019-03-25-shiny-modules-for-useful-controls/index.html#things-they-dont-tell-you",
    "title": "Shiny modules for useful controls",
    "section": "Things they don’t tell you",
    "text": "Things they don’t tell you\n\nLoad the ui in the ui.R file\nDelete the scratch-pad.R file\n\n\ntweetrmd::tweet_embed(\"https://twitter.com/charliejhadley/status/1110203236177334278\")\n\nImagine you're following an R tutorial that includesread_csv(\"http://online_csv\")How large would that csv need to be before you'd want a warning written into the tutorial?— Charlotte 👩‍💻 (@charliejhadley) March 25, 2019"
  },
  {
    "objectID": "posts/child-doc/index.html",
    "href": "posts/child-doc/index.html",
    "title": "I have children!",
    "section": "",
    "text": "Code\n2 + 2\n\n\n[1] 4\n\n\n\n\n\n\nFootnotes\n\n\nThis is the thing↩︎\n\nReusehttps://creativecommons.org/licenses/by/4.0/CitationBibTeX citation:@online{hadley2022,\n  author = {Charlotte Hadley},\n  title = {I Have Children!},\n  date = {2022-05-10},\n  url = {https://visibledata.co.uk/posts/child-doc},\n  langid = {en},\n  abstract = {Long stubb!.}\n}\nFor attribution, please cite this work as:\nCharlotte Hadley. 2022. “I Have Children!” May 10, 2022. https://visibledata.co.uk/posts/child-doc."
  },
  {
    "objectID": "posts/child-doc/blogpost-about-bees.html",
    "href": "posts/child-doc/blogpost-about-bees.html",
    "title": "Visible Data",
    "section": "",
    "text": "2 + 2\n\n[1] 4\n\n\n\n\n\n\nFootnotes\n\n\nThis is the thing↩︎\n\nReusehttps://creativecommons.org/licenses/by/4.0/CitationBibTeX citation:@online{hadley,\n  author = {Charlotte Hadley},\n  url = {https://visibledata.co.uk/posts/child-doc/blogpost-about-bees.html},\n  langid = {en}\n}\nFor attribution, please cite this work as:\nCharlotte Hadley. n.d. https://visibledata.co.uk/posts/child-doc/blogpost-about-bees.html."
  },
  {
    "objectID": "posts/2018-12-05-using-ggmap-after-july-2018/index.html",
    "href": "posts/2018-12-05-using-ggmap-after-july-2018/index.html",
    "title": "Using ggmap after July 2018",
    "section": "",
    "text": "ggmap is an awesome package for creating maps with ggplot2. If you’ve seen a nice looking map built with ggplot2 I can almost guarantee you that it uses ggmap to look that good. The ggmap package is used to obtain base maps from the APIs of a number of online mapping tools, the one we care about here is the base maps from Google Maps (because they’re very good).\nIf you’re reading instructions for using ggmap written before July 2018 you will fail to replicate the results unless you make some changes to your workflow. You will need to give Google your billing information, but can create maps for free."
  },
  {
    "objectID": "posts/2018-12-05-using-ggmap-after-july-2018/index.html#whats-changed",
    "href": "posts/2018-12-05-using-ggmap-after-july-2018/index.html#whats-changed",
    "title": "Using ggmap after July 2018",
    "section": "What’s changed?",
    "text": "What’s changed?\nBefore July 2018 it was possible to use the Google Maps API for free without configuration or use account, this is now no longer possible. See the pricing page for explicit details from Google themselves.\nYou must do the following to obtain base maps from Google:\n\nHave a Google Cloud account.\nEnable the Google Maps Platform.\nProvide Google with your billing details.\n\nYou will then be allocated $200 of free usage per month, every month. All API calls will be made against these limits.\nIf you’re exclusively making static maps with ggmap then you’re extremely unlikely to ever be charged by Google. I’ve summarised the pricing policy as of December 2018 below:"
  },
  {
    "objectID": "posts/2018-12-05-using-ggmap-after-july-2018/index.html#lets-make-our-maps",
    "href": "posts/2018-12-05-using-ggmap-after-july-2018/index.html#lets-make-our-maps",
    "title": "Using ggmap after July 2018",
    "section": "Let’s make our maps",
    "text": "Let’s make our maps\nWe’ll break this into two stages:\n\nPreparing our Google Maps Platform account\nSetting up and using ggmap\n\n\nPreparing our Google Maps Platform account\n\nNavigate to https://cloud.google.com/maps-platform/ and click “Get Started”\nSelect “Maps” in the dialog, leave the other things for another tutorial.\n\n\n\nCreate a new project for tracking your ggmap-incurred expenses, I suggest using the name ggmap\n\n\n\nYou’ll be prompted to create a billing account, click “create a billing account”\nSelect your country, agree to the terms and conditions, and make a decision about marketing. Please note you’ll likely be told you’re getting $300 per month rather than $200 for 12 months, it’s because Google are trying to keep devs happy during the roll out.\n\n\n\nFill in your payment details!\nAs of 2018 there’s a modal dialog that you want to click through, I assume this will be designed away in the future so don’t worry if you don’t see it.\n\n\n\nSuccess! Now you have an API key to use in R. You’ll want to copy it down somewhere.\n\n\nYou need to have your API key with you EVERY time that you use ggmap for the time being. Make sure you keep a note of it from above, or else you can find it with these steps:\n\nNavigate to https://console.cloud.google.com/apis/dashboard and select the project (I went with ggmap) you created from the pull down list:\n\n\n\nSelect credentials from the left-hand nav and you’ll be shown your API key\n\n\n\n\nSetting up and using ggmap\nThe instructions for these steps can be found in Github Issue #51.\n\nThere’s a dev version of the ggmap package that uses the new APIs, which we can install as follows:\n\n\ndevtools::install_github(\"dkahle/ggmap\", ref = \"tidyup\")\n\n\nYou must now restart R.\nLoad the library and provide your API key\n\n\nregister_google(key = \"My-FAKE-KEY\")\n\n\nNow we can get our base maps using get_googlemap()\n\n\nbase_map <- get_googlemap(center = c(2.2945, 48.858222), maptype = \"roadmap\")\nggmap(base_map)"
  },
  {
    "objectID": "posts/2019-02-18_oxford-centres/index.html",
    "href": "posts/2019-02-18_oxford-centres/index.html",
    "title": "Where is the centre of University of Oxford?",
    "section": "",
    "text": "My team at University of Oxford provide research data management and reproducible research advice to researchers across the whole of the University. A fairly common point of contention is where should we meet, and where is the centre of the University?\nWe broadly agreed that the centre of the University should be calculated as the (weighted) centre of mass of specific buildings or campuses within the University. Two of our favourite options were:\nIn this blogpost I go through all the steps of scraping and combining data from the OxPoints service and Wikipedia to create the chart below:\nThere are many steps to this process. I’ve decided to experiment with an accordion layout for this post, so it’s not immediately obvious how long the post is!"
  }
]